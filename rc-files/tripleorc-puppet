export TRIPLEO_ROOT=/home/jslagle/tripleo-puppet
source $TRIPLEO_ROOT/tripleo-incubator/scripts/devtest_variables.sh
export NODE_DIST='fedora selinux-permissive'
export DIB_RELEASE=21
export RDO_RELEASE=kilo

export NODE_CNT=2
export NODE_MEM=4096
export NODE_ARCH=amd64


export DELOREAN_REPO_URL="http://trunk.rdoproject.org/f21/bf/59/bf59764b9a7f14c1f0223b28aa839142cfec3bf3_c3766014"
export DIB_REPOREF_puppetlabs_concat=15ecb98dc3a551024b0b92c6aafdefe960a4596f
# export DELOREAN_REPO_URL="http://trunk.rdoproject.org/f21/current/"

# Enable packages for all elements by default
export DIB_DEFAULT_INSTALLTYPE=package

# Install undercloud mariadb-rpm this way since we set USE_MARIADB=0
export SEED_DIB_EXTRA_ARGS='delorean-repo rdo-release rabbitmq-server mariadb-rpm'
export UNDERCLOUD_DIB_EXTRA_ARGS='rabbitmq-server mariadb-rpm'

export ELEMENTS_PATH=$ELEMENTS_PATH:$TRIPLEO_ROOT/tripleo-puppet-elements/elements:$TRIPLEO_ROOT/heat-templates/hot/software-config/elements

export OVERCLOUD_CONTROL_DIB_ELEMENTS='sysctl hosts baremetal
dhcp-all-interfaces os-collect-config heat-config-puppet puppet-modules hiera
os-net-config delorean-repo rdo-release'
# NOTE: This pre-installs Rabbit and Maria in the Controller.
# We let Puppet install the OpenStack services on the controller for
# now as this triggers an initial db_sync. We can re-work the db_sync
# Puppet modules a bit and allow pre-installed OS packages in the
# controller image.
export OVERCLOUD_CONTROL_DIB_EXTRA_ARGS='overcloud-controller'
export OVERCLOUD_COMPUTE_DIB_ELEMENTS='sysctl hosts baremetal
dhcp-all-interfaces os-collect-config heat-config-puppet puppet-modules hiera
os-net-config delorean-repo rdo-release'
# NOTE: This pre-installs the Nova, Neutron, and Ceilometer packages in
# the compute image
export OVERCLOUD_COMPUTE_DIB_EXTRA_ARGS='overcloud-compute'

export RESOURCE_REGISTRY_PATH="$TRIPLEO_ROOT/tripleo-heat-templates/overcloud-resource-registry-puppet.yaml"

export USE_MARIADB=0


export DIB_INSTALLTYPE_puppet_modules=source
